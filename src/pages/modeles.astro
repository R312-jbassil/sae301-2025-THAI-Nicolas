---
import Layout from '../layouts/Layout.astro';
import Header from '../components/layouts/Header.astro';
import Footer from '../components/layouts/Footer.astro';
import { modeles, getBestsellers, getNouveautes } from '../data/modeles';
import SectionModeles from '../components/ui/SectionModeles.astro';

const bestsellers = getBestsellers();
const nouveautes = getNouveautes();
---

<Layout title="Nos Modèles - TaVue" description="Découvrez notre collection de lunettes personnalisables">
  <Header />
  
  <!-- Hero Section -->
  <section class="bg-gradient-to-b from-vert-light to-white py-20">
    <div class="max-w-7xl mx-auto px-8 text-center">
      <h1 class="text-5xl font-bold text-noir mb-6">Nos Modèles</h1>
      <p class="text-xl text-gris max-w-2xl mx-auto mb-8">
        Découvrez notre collection de lunettes soigneusement conçues. 
        Chaque modèle peut être entièrement personnalisé selon vos préférences.
      </p>
      <div class="flex gap-4 justify-center">
        <a href="#bestsellers" class="bg-vert text-white px-8 py-3 rounded-full font-semibold hover:bg-[#4a7d5f] transition-all duration-300">
          Bestsellers
        </a>
        <a href="#nouveautes" class="bg-white border-2 border-vert text-vert px-8 py-3 rounded-full font-semibold hover:bg-vert-light transition-all duration-300">
          Nouveautés
        </a>
      </div>
    </div>
  </section>

  <!-- Contenu principal -->
  <div class="bg-white py-16">
    <main class="max-w-7xl mx-auto px-8">
      
      <!-- Section Bestsellers -->
      <SectionModeles 
        id="bestsellers"
        titre="Bestsellers"
        description="Les modèles préférés de nos clients"
        modeles={bestsellers}
        badge="bestseller"
        icone="star"
        showCount={true}
      />

      <!-- Section Nouveautés -->
      <SectionModeles 
        id="nouveautes"
        titre="Nouveautés"
        description="Les dernières créations de notre atelier"
        modeles={nouveautes}
        badge="nouveau"
        icone="clock"
        showCount={true}
      />

      <!-- Section Tous les modèles -->
      <SectionModeles 
        id="tous-modeles"
        titre="Tous nos modèles"
        description="L'intégralité de notre collection à personnaliser"
        modeles={modeles}
        showCount={false}
      />

      <!-- CTA Section -->
      <section class="mt-20 bg-gradient-to-r from-vert to-[#4a7d5f] rounded-3xl p-12 text-center text-white">
        <h2 class="text-4xl font-bold mb-4">Créez votre propre design</h2>
        <p class="text-xl mb-8 opacity-90">
          Partez de zéro et concevez la paire de lunettes parfaite pour vous
        </p>
        <a href="/configurateur">
          <button class="bg-white text-vert px-10 py-4 rounded-full font-bold text-lg hover:bg-gray-100 transition-all duration-300 transform hover:scale-105">
            CONFIGURATEUR LIBRE
          </button>
        </a>
      </section>

    </main>
  </div>

  <Footer />
</Layout>

<style>
  /* Animation smooth scroll */
  html {
    scroll-behavior: smooth;
  }

  /* Limiter le texte à 2 lignes */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
</style>

<!-- Le script de coloration SVG est maintenant géré par le composant LunettesSVGRenderer.astro -->
